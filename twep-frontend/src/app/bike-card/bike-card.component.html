<mat-card
    *ngIf="bike"
    [ngClass]="{
        'twep-bike-card': true,
        'unavailable': unavailable
    }"
>
    <mat-card-header class="twep-bike-card-header">
        <mat-card-title [title]="title">
            {{title}}
        </mat-card-title>
        <mat-card-subtitle>
            {{subtitle}}
        </mat-card-subtitle>
        <mat-card-subtitle>
            <mat-icon 
                *ngFor="let star of ratingStars"
                class="twep-rating-star"
            >
                star_rate
            </mat-icon>
            <span>({{ratingFormatted}}),</span>
            <span>{{ratingCount}} ratings</span>
        </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content 
        [ngClass]="{
            'twep-bike-card-content': true,
            'show-more': showMore
        }"
    >
        <div 
            *ngIf="description !== null" 
            class="twep-bike-description"
            [title]="description"
            #descriptionContainer
        >
            {{description}}
        </div>
        @if(unavailable){
            <div class="twep-bike-action unavailable">
                Currently not available
            </div>
        }
        @else{
            <button
                *ngIf="showRentBtn"
                class="twep-bike-action"
                mat-flat-button
                color="primary"
                (click)="rentBike()"
            >
                Rent Bike
            </button>
        }
        
        <div class="twep-bike-features">
            @if(showMore && features.length > 0){
                <strong>Features</strong>
                <ul>
                    <li *ngFor="let feature of features">
                        {{ feature }}
                    </li>
                </ul>
            }
            <a
                *ngIf="features.length > 0 || hasMoreDescription"
                class="twep-bike-detail-toggle"
                href="javascript:void(0)"
                (click)="toggleFeatures()"
            >
                {{ hasMoreBtnText }}
            </a>
        </div>
    </mat-card-content>
</mat-card>
