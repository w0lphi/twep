<div class="userhome-container">
    <mat-toolbar color="secondary" class="twep-main-toolbar">
        <button
            *ngIf="isMobile"
            class="twep-drawer-button"
            mat-icon-button
            (click)="drawer.toggle()"
        >
            <mat-icon>menu</mat-icon>
        </button>
        <a class="twep-logo" routerLink="/user">
            <img
                src="../../../assets/logo_small.svg"
                height="40"
                width="40"
            >
        </a>
        <h1 class="twep-toolbar-title">TWEP</h1>
        <mat-tab-group
            *ngIf="!isMobile"
            class="twep-user-nav-bar" 
            [selectedIndex]="activeLinkIndex"
            (selectedIndexChange)="navigate($event)"
        >
            <mat-tab *ngFor="let tab of navigationLinks">
                <ng-template mat-tab-label>
                    <mat-icon class="nav-tab-icon">{{tab.icon}}</mat-icon>
                    {{tab.title}}
                </ng-template>
            </mat-tab>
        </mat-tab-group>
        <div class="twep-spacer"></div>
        <button
            *ngIf="!isMobile"
            mat-icon-button
            (click)="openAccount()"
        >
            <mat-icon>account_circle</mat-icon>
        </button>
        <button
            *ngIf="!isMobile"
            mat-icon-button
            (click)="logout()"
        >
            <mat-icon>logout</mat-icon>
        </button>
    </mat-toolbar>
    <mat-drawer-container class="twep-drawer-container">
        <mat-drawer
            #drawer
            [opened]="false"
            mode="over"
        >
            <!-- SIDEBAR -->
            <div class="twep-drawer-title">Menu</div>
            <mat-nav-list>
                <mat-list-item (click)="openAccount()">
                    <mat-icon matListItemIcon>account_circle</mat-icon>
                    <span matListItemTitle>Account</span>
                </mat-list-item>
                <mat-divider />
                @for (navlink of navigationLinks; track $index) {
                <mat-list-item
                    [activated]="$index === activeLinkIndex"
                    (click)="navigate($index)"
                >
                    <mat-icon matListItemIcon>{{ navlink.icon }}</mat-icon>
                    <span matListItemTitle>{{ navlink.title }}</span>
                </mat-list-item>
                }
                <mat-divider />
                <mat-list-item (click)="logout()">
                    <mat-icon matListItemIcon>logout</mat-icon>
                    <span matListItemTitle>Logout</span>
                </mat-list-item>
            </mat-nav-list>
    
        </mat-drawer>
        <mat-drawer-content>
            <!-- MAIN CONTENT -->
            <div class="twep-user-content">
                <router-outlet></router-outlet>
            </div>
        </mat-drawer-content>
    </mat-drawer-container>
  
</div>
